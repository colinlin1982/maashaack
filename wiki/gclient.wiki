#summary the gclient tool.

== Introduction ==

gclient (or google client) is a set of wrapper scripts for checking out and updating source code from multiple SCM repository locations.

The project started here [http://code.google.com/p/gclient/ http://code.google.com/p/gclient/]<br>
but is now integrated in the Chromium [http://dev.chromium.org/developers/how-tos/depottools depot_tools].

On the [http://www.chromium.org/developers/how-tos/depottools/gclient depot_tools/gclient] page you can find more informations.

{{{
    gclient was originally developed for internal use by the Google Chrome team,
    to coordinate pieces of code from different SCM repositories during the development process.
    The sources are included inside depot_tools.  
}}}

== informations ==

We use *gclient* on top of *svn* for all of our projects.

See [Organization#if_you_are_a_Committer] for the greedy details.

In short, we replace all the `svn:externals` by `DEPS` file and use gclient to sync and update, for the commits we simply navigate into each project directory and do a `svn commit` there.

*Why are we doing that ?*<br>
It is easier for us to maintain different small projects that get assembled in a big directory structure than to maintain a huge monolithic project.

*What are the advantages of `DEPS` files ?*<br>
 * It is really like a `svn:externals` but with the difference that it is a file instead of a svn property, so for us it is clearer to see the mapping of directories in those `DEPS` files.
 * it allow us from the same sources to assemble different structure of projects, see [http://code.google.com/p/maashaack/source/browse/#svn/configs/maashaack maashaack] and [http://code.google.com/p/maashaack/source/browse/#svn/configs/maashaackSA maashaackSA].
 * it allows to have a parent/child relationship between projects.


== installation ==

if you add a previous gclient installed
{{{
$ cd ~
$ mv gclient gclient.old
}}}

 * download the archive [http://code.google.com/p/maashaack/downloads/detail?name=gclient-0.6.4.zip gclient-0.6.4]
 * unzip in a folder
 * create a symlink

note: under Windows, we support only [http://www.cygwin.com/ cygwin]

{{{
$ cd ~
$ unzip gclient-0.6.4.zip
$ ln -s gclient-0.6.4/gclient.py gclient
}}}

== usage ==
{{{
Usage: gclient <command> [options] 

Commands are:
  cleanup    Cleans up all working copies.
  config     Create a .gclient file in the current directory.
  diff       Displays local diff for every dependencies.
  fetch      Fetches upstream commits for all modules.
  grep       Greps through git repos managed by gclient.
  help       Prints list of commands or help for a specific command.
  hookinfo   Output the hooks that would be run by `gclient runhooks`
  pack       Generate a patch which can be applied at the root of the tree.
  recurse    Operates on all the entries.
  revert     Revert all modifications in every dependencies.
  revinfo    Output revision info mapping for the client and its dependencies.
  runhooks   Runs hooks for files that have been modified in the local working copy.
  status     Show modification status for every dependencies.
  sync       Checkout/update all modules.
  update     Alias for the sync command. Deprecated.

Prints list of commands or help for a specific command.

Options:
  --version             show program's version number and exit
  -h, --help            show this help message and exit
  -j JOBS, --jobs=JOBS  Specify how many SCM commands can run in parallel;
                        defaults to number of cpu cores (8)
  -v, --verbose         Produces additional output for diagnostics. Can be
                        used up to three times for more logging info.
  --gclientfile=CONFIG_FILENAME
                        Specify an alternate .gclient file
  --spec=SPEC           create a gclient file containing the provided string.
                        Due to Cygwin/Python brokenness, it probably can't
                        contain any newlines.
}}}